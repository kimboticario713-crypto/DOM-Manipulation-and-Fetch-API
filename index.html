<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Todo CRUD Viewer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="toolbar">
    <div class="title">Todo CRUD Viewer</div>
    <div class="username-switch">
      <label for="userInput" style="font-size:14px;">Username:</label>
      <input id="userInput" type="text" value="darshan" autocomplete="off" />
      <button id="switchUserBtn" class="btn secondary" style="padding:7px 10px; font-size:14px;">Switch</button>
    </div>
    <div class="controls">
      <button id="createBtn" class="btn">CREATE</button>
      <button id="updateBtnTop" class="btn secondary" disabled>UPDATE</button>
      <button id="deleteBtnTop" class="btn warn" disabled>DELETE</button>
    </div>
  </header>

  <main class="container">
    <div id="message" class="meta">Loading data...</div>
    <div class="table-wrap" id="tableWrap">
      <table id="dataTable" aria-describedby="message">
        <thead id="tableHead"></thead>
        <tbody id="tableBody">
          <tr><td colspan="6" class="meta">Waiting for data...</td></tr>
        </tbody>
      </table>
    </div>
  </main>

  <div id="formModal" style="display:none" class="modal" role="dialog" aria-modal="true">
    <div class="card">
      <h3 id="formTitle">Form</h3>
      <div id="formError" class="error" style="display:none"></div>
      <form id="dynamicForm">
        <div class="fields" id="formFields"></div>
        <div class="form-actions">
          <button type="button" id="cancelForm" class="btn secondary">Cancel</button>
          <button type="submit" id="submitForm" class="btn">
            <span id="submitText">Save</span>
            <span id="submitSpinner" style="display:none" class="loading"></span>
          </button>
        </div>
      </form>
      <p class="small" style="margin-top:10px">
        Note: <strong>ID</strong> will be auto-generated by the server when creating new items.
      </p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
